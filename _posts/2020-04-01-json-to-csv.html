---
layout: post
title:  Converta Json em Csv. Rápido e fácil.
date:   2021-03-31 12:00:00
---

Olá pessoal. Sejam bem vindos.

Hoje vou apresentar a vocês algumas formas para converter dados em formato JSON para CSV. 
Para quem já trabalhou com banco de dados não relacionais, provavelmente já se esbarrou com esse problema.

Trabalhei num projeto que utilizava o banco de dados CosmosDb. Depois de publicar a primeira versão do projeto, começaram a surgir 
demandas do cliente de gerar alguns relatórios. Como os relatórios eram esporádicos, não haviam a necessidade de criar uma funcionalidade
nova no projeto para emitir esses relatórios. 

Depois de extrair os dados do Cosmos, deparavamos com o problema do formato. Os clientes esperavam o relatório no formato tabular,
como um arquivo excel. Não podiamos simplesmente entregar os dados daquela forma. 

<h2>Como converter JSON em CSV</h2>

Vou listar abaixo algunas formas para se converter dados JSON em CSV:

<h3>Usar uma ferramenta de conversão online</h3>
O primeiro lugar que recorremos <a href="https://json-csv.com/" target="_blank">https://json-csv.com/</a>. Resolveu bem o nosso problema. 
Porem possui limite de conversão, e para continuar convertendo precisar contratar a versão PRO, que é paga.
Já precisamos converter arquivos com mais de 100 mil registros.

<h3>Pacote npm json2csv</h3>
Procurando por uma forma de converter sem limites, 
encontrei esse pacote npm <a href="https://www.npmjs.com/package/json2csv" target="_blank">json2csv</a>.
Rápido de se instalar e fácil de se converter. Mas tem como pré requisito ter Node e NPM instalaos.

<strong>Instalação</strong>
npm install json2csv -g

<strong>Converter arquivo</strong>
json2csv -i relatorio.json -o relatorio.csv

<h3>Por fim. Ferramenta própria</h3>
O pacote <a href="https://www.npmjs.com/package/json2csv" target="_blank">json2csv</a>.